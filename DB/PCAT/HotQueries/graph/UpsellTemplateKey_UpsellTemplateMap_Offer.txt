select
	t1.UPSELL_TEMPLATE_MAP_ID as upsellTemplateMapId,
	t1.RESELLER_VERSION_ID as resellerVersionId,
	t1.UPSELL_TEMPLATE_ID as upsellTemplateId,
	t1.OFFER_ID as offerId,
	t3.DISPLAY_VALUE as name,
	t3.DESCRIPTION as description,
    ''{3}'' as entityType,
	t5.DISPLAY_VALUE as entitySubtype,
	t1.BALANCE_PRIORITY as balPriOrder,
	t1.TARIFF_PRIORITY as tariffPlanPriOrder,
	t1.DISCOUNT_PRIORITY as discountPriOrder,
	t1.RC_PRIORITY as rcTermPriOrder,
	t1.DISPLAY_PRIORITY as displayOrder
from
	UPSELL_TEMPLATE_MAP t1
	left outer join OFFER_REF t2 on t1.OFFER_ID = t2.OFFER_ID
		and t2.RESELLER_VERSION_ID = t1.RESELLER_VERSION_ID
	left outer join OFFER_VALUES t3 on t1.OFFER_ID = t3.OFFER_ID
		and t3.LANGUAGE_CODE = {2}
		and t3.RESELLER_VERSION_ID = t1.RESELLER_VERSION_ID
	left outer join GENERIC_ENUMERATION_REF t4 on t4.enumeration_key = lower(''OFFER_TYPE'')
		and t4.value = t2.OFFER_TYPE
	left outer join GENERIC_ENUMERATION_VALUES t5 on t5.enumeration_key = t4.enumeration_key
		and t5.value = t4.value
		and t5.LANGUAGE_CODE = t3.LANGUAGE_CODE
where
	t1.RESELLER_VERSION_ID = {0}
		and t1.OFFER_ID is not null